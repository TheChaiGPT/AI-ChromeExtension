<!-- popup.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DocuSense AI</title>
  <link rel="stylesheet" href="popup.css" />
</head>
<body>
  <div id="app">
    <h1>DocuSense AI</h1>

    <div id="disclosure">
      <p><strong>Data Usage Notice:</strong> This extension accesses the content of your Google Docs and Sheets to provide answers to your questions using the OpenAI API. The content and your question are sent securely to OpenAI to generate a response. We do not store or share your data with any other parties.</p>
    </div>

    <div class="section">
      <label for="contentType">Content Type:</label>
      <select id="contentType">
        <option value="doc">Google Doc</option>
        <option value="sheet">Google Sheet</option>
      </select>
    </div>

    <div class="section">
      <label for="docContent">Document Content:</label>
      <div
        id="docContent"
        class="content-display"
      ></div>
    </div>

    <div class="section">
      <label for="userQuestion">Your Question:</label>
      <textarea id="userQuestion" placeholder="Ask a question..."></textarea>
    </div>

    <button id="askButton">Ask</button>

    <div id="responseContainer">
      <h2>Response:</h2>
      <div id="editorToolbar">
        <button class="format-btn" data-command="bold"><b>B</b></button>
        <button class="format-btn" data-command="italic"><i>I</i></button>
        <button class="format-btn" data-command="underline"><u>U</u></button>
        <button class="format-btn" data-command="insertOrderedList">OL</button>
        <button class="format-btn" data-command="insertUnorderedList">UL</button>
      </div>
      <div id="responseText" contenteditable="true"></div>

      <button id="copyButton">Copy Response</button>
    </div>

    <h2>Settings</h2>
    <div class="section">
      <label for="apiKeyInput">OpenAI API Key:</label>
      <input
        type="password"
        id="apiKeyInput"
        placeholder="Enter OpenAI API Key"
      />
      <button id="saveApiKeyButton">Save API Key</button>
    </div>
  </div>
  <script src="purify.min.js"></script>
  <script src="popup.js"></script>
</body>
</html>
